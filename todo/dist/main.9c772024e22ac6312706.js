"use strict";(self.webpackChunktodo=self.webpackChunktodo||[]).push([[792],{177:(t,e,o)=>{o.d(e,{A:()=>c});var i=o(354),s=o.n(i),r=o(314),d=o.n(r)()(s());d.push([t.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./src/styles/styles.css"],names:[],mappings:"AAAA;QACS,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]);const c=d},761:(t,e,o)=>{class i{constructor(){this.projectForm=document.querySelector("#add-project-form"),this.projectDiv=document.querySelector("#project-div"),this.input=document.querySelector("#project-name-field"),this.deleteButtons=this.projectDiv.querySelectorAll("button"),this.projectName=document.querySelector("#project-name")}bindAddProject(t){this.projectForm.addEventListener("submit",e=>{e.preventDefault(),this.input.value.trim()&&(t(this.input.value),this.input.value="")})}bindRemoveProject(t){this.deleteButtons=this.projectDiv.querySelectorAll("button"),this.deleteButtons.forEach(e=>{e.addEventListener("click",o=>{o.preventDefault(),o.stopPropagation();const i=e.closest(".project-item").dataset.id;t(i)})})}bindSelectProject(t){const e=this.projectDiv.querySelectorAll(".project-item");e.forEach(o=>{o.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation();const s=o.dataset.id;e.forEach(t=>t.classList.remove("active")),t(s)})})}changeProjectName(t){this.projectName.innerText=t}displayProjects(t,e){this.projectDiv.innerHTML="",t.forEach(t=>{const o=document.createElement("div");o.innerText=t.title,o.dataset.id=t.id,o.classList.add("p1"),o.classList.add("project-item");const i=document.createElement("button");i.textContent="Delete",o.append(i),null!=e&&t.id===e.id&&o.classList.add("active"),o.dataset.isActive=null!=e&&t.id===e.id,this.projectDiv.appendChild(o)})}}class s{constructor(){this.projects=[],this.activeProject=null}addProject(t){this.projects.push(t)}removeProject(t){this.projects=this.projects.filter(e=>e.id!==t)}setActiveProject(t){this.activeProject=this.projects.find(e=>e.id===t)}getActiveProject(){return this.activeProject}getProjects(){return this.projects}getProject(t){this.projects.filter(e=>e.id==t)}}var r=o(79);class d{constructor(){this.todoList=document.querySelector("#todo-list"),this.addButton=document.querySelector("#add-todo"),this.form=document.querySelector("#todo-form"),this.modal=document.querySelector("#todo-dialog"),this.submitBtn=document.querySelector("#submit-btn"),this.cancelBtn=this.modal.querySelector("#cancel-btn"),this.#t()}#t(){this.addButton.addEventListener("click",t=>{t.stopPropagation(),t.preventDefault(),this.modal.showModal()}),this.submitBtn.addEventListener("click",t=>{}),this.cancelBtn.addEventListener("click",t=>{this.form.reset(),this.modal.close()})}bindAddTodo(t){this.form.addEventListener("submit",e=>{e.preventDefault(),t(new FormData(this.form)),this.form.reset(),this.modal.close()})}bindToggleTodo(t){this.todoList.querySelectorAll(".todo-item").forEach(e=>{e.addEventListener("click",o=>{t(e.dataset.id),o.target.tagName.toLowerCase()})})}displayTodos(t){this.todoList.innerHTML="",t.forEach(t=>{this.#e(t),this.#o(t)})}#o(t){const e=document.querySelector(`.todo-item[data-id="${t.getId()}"]`),o=e.querySelector('input[type="checkbox"]');t.getIsFinish()?(e.classList.add("finished"),o.checked=!0):(e.classList.remove("finished"),o.checked=!1)}#e(t){const e=document.createElement("div");e.classList.add("todo-item"),e.dataset.id=t.getId(),this.todoList.appendChild(e);const o=document.createElement("div");e.appendChild(o);const i=document.createElement("input");i.type="checkbox",o.appendChild(i);const s=document.createElement("div");e.appendChild(s);const d=document.createElement("div");s.appendChild(d),d.classList.add("p1"),d.textContent=t.title;const c=document.createElement("div");s.appendChild(c),c.classList.add("p2"),c.textContent=t.description;const n=document.createElement("div");s.appendChild(n),n.classList.add("p2"),n.textContent=`Priority: ${t.priority}`;const a=document.createElement("div");s.appendChild(a),a.classList.add("p2"),a.textContent=(0,r.B)(t.dueDate,new Date,{addSuffix:!0})}}class c{constructor(t,e,o,i,s=!1){this.id=crypto.randomUUID(),this.title=t,this.description=e,this.dueDate=o,this.priority=i,this.isFinish=s}set title(t){this._title=t}get title(){return this._title}set description(t){this._description=t}get description(){return this._description}set dueDate(t){this._dueDate=t}get dueDate(){return this._dueDate}set priority(t){this._priority=t}get priority(){return this._priority}toggleStatus(){this.isFinish=!this.isFinish}getIsFinish(){return this.isFinish}getId(){return this.id}}const n=t=>{localStorage.setItem("todoApp",JSON.stringify(t))},a=()=>{const t=localStorage.getItem("todoApp");return t?JSON.parse(t):null};class l{todos=[];constructor(t){this.id=crypto.randomUUID(),this.title=t}set todo(t){this.todos.push(t)}get todo(){return this.todos}set title(t){this._title=t}get title(){return this._title}getId(){return this.id}}var h=o(72),u=o.n(h),p=o(825),j=o.n(p),m=o(659),P=o.n(m),g=o(56),v=o.n(g),y=o(540),L=o.n(y),A=o(113),S=o.n(A),w=o(177),f={};f.styleTagTransform=S(),f.setAttributes=v(),f.insert=P().bind(null,"head"),f.domAPI=j(),f.insertStyleElement=L(),u()(w.A,f),w.A&&w.A.locals&&w.A.locals,new class{constructor(){this.ProjectListModel=this.loadFromStorage()||new s,this.ProjectListModel.getProjects().length||this.ProjectListModel.addProject(new l("Default")),this.ProjectListModel.setActiveProject(this.ProjectListModel.getProjects()[0].getId()),this.ProjectView=new i,this.TodoView=new d,this.ProjectView.bindAddProject(this.handleAddProject),this.TodoView.bindAddTodo(this.handleAddTodo),this.updateView()}handleAddProject=t=>{this.ProjectListModel.addProject(new l(t)),this.saveToStorage(),this.updateView()};handleRemoveProject=t=>{this.ProjectListModel.removeProject(t),this.saveToStorage(),this.updateView()};handleSelectProject=t=>{this.ProjectListModel.setActiveProject(t),this.updateView()};handleAddTodo=t=>{const e=t.get("title"),o=t.get("description"),i=t.get("priority"),s=new Date(t.get("dueDate"));this.ProjectListModel.getActiveProject().todo=new c(e,o,s,i),this.saveToStorage(),this.updateView()};handleToggleTodo=t=>{this.ProjectListModel.getActiveProject().todo.find(e=>e.id==t).toggleStatus(),this.saveToStorage(),this.updateView()};updateView(){this.ProjectView.displayProjects(this.ProjectListModel.getProjects(),this.ProjectListModel.getActiveProject()),this.ProjectView.changeProjectName(this.ProjectListModel.getActiveProject().title),this.ProjectView.bindRemoveProject(this.handleRemoveProject),this.ProjectView.bindSelectProject(this.handleSelectProject),null!=this.ProjectListModel.getActiveProject()&&this.TodoView.displayTodos(this.ProjectListModel.getActiveProject().todo),this.TodoView.bindToggleTodo(this.handleToggleTodo)}saveToStorage(){n(this.ProjectListModel)}loadFromStorage(){const t=a("todoApp");if(!t)return null;const e=new s;return t.projects.forEach(t=>{const o=new l(t._title);t.todos.forEach(t=>{const e=new c(t._title,t._description,new Date(t._dueDate),t._priority,t.isFinish);o.todo=e}),e.addProject(o)}),e}}}},t=>{t.O(0,[490],()=>t(t.s=761)),t.O()}]);
//# sourceMappingURL=main.9c772024e22ac6312706.js.map